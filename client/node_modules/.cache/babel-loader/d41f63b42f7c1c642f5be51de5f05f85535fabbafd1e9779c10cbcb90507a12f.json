{"ast":null,"code":"import { ALL_TODO_REQUEST, ALL_TODO_SUCCESS, ALL_TODO_FAIL, TODO_EDIT_FAIL, TODO_EDIT_REQUEST, TODO_EDIT_SUCCESS } from \"../constants/AllTodo\";\nimport { ApolloClient, InMemoryCache, ApolloProvider, gql } from '@apollo/client';\nexport const getProduct = () => async dispatch => {\n  const client = new ApolloClient({\n    uri: 'http://localhost:3004/graphql',\n    cache: new InMemoryCache()\n  });\n  try {\n    dispatch({\n      type: ALL_TODO_REQUEST\n    });\n    const {\n      data\n    } = await client.query({\n      query: gql`\n          query{\n            getAllTodos{\n              title\n              id\n            }\n          }\n          `\n    });\n    dispatch({\n      type: ALL_TODO_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ALL_TODO_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};\nexport const EditTodo = _ref => {\n  let {\n    edit,\n    editInput\n  } = _ref;\n  return async dispatch => {\n    const client = new ApolloClient({\n      uri: 'http://localhost:3004/graphql',\n      cache: new InMemoryCache()\n    });\n    try {\n      dispatch({\n        type: TODO_EDIT_REQUEST\n      });\n      const {\n        data\n      } = await client.mutate({\n        mutation: gql`\n            mutation{\n              updateTodo(id:${edit},title:\"${editInput}\") {\n                id\n              }\n            }\n            `\n      });\n      dispatch({\n        type: TODO_EDIT_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: TODO_EDIT_FAIL,\n        payload: error.response.data.message\n      });\n    }\n  };\n};","map":{"version":3,"names":["ALL_TODO_REQUEST","ALL_TODO_SUCCESS","ALL_TODO_FAIL","TODO_EDIT_FAIL","TODO_EDIT_REQUEST","TODO_EDIT_SUCCESS","ApolloClient","InMemoryCache","ApolloProvider","gql","getProduct","dispatch","client","uri","cache","type","data","query","payload","error","response","message","EditTodo","edit","editInput","mutate","mutation"],"sources":["/home/radicalstart/Desktop/todo/src/actions/allProductsAction.js"],"sourcesContent":["\nimport { ALL_TODO_REQUEST,ALL_TODO_SUCCESS,ALL_TODO_FAIL,TODO_EDIT_FAIL,TODO_EDIT_REQUEST,TODO_EDIT_SUCCESS } from \"../constants/AllTodo\";\nimport { ApolloClient, InMemoryCache, ApolloProvider, gql } from '@apollo/client';\n\nexport const getProduct= () => async (dispatch)=>{\n    const client = new ApolloClient({\n        uri: 'http://localhost:3004/graphql',\n        cache: new InMemoryCache(),\n      });\n    try {\n        dispatch({\n            type: ALL_TODO_REQUEST\n        });\n  \n     \n        const {data} = await client\n        .query({\n          query: gql`\n          query{\n            getAllTodos{\n              title\n              id\n            }\n          }\n          `,\n        })\n     \n        dispatch({\n            type:ALL_TODO_SUCCESS,\n            payload: data,\n        })\n    } catch (error) {\n        dispatch({\n            type:ALL_TODO_FAIL,\n            payload: error.response.data.message,\n        })\n    }\n  }; \n  export const EditTodo= ({edit,editInput}) => async (dispatch)=>{\n    const client = new ApolloClient({\n        uri: 'http://localhost:3004/graphql',\n        cache: new InMemoryCache(),\n      });\n    try {\n        dispatch({\n            type: TODO_EDIT_REQUEST\n        });\n  \n     \n        const {data} = await client\n        .mutate({\n            mutation: gql`\n            mutation{\n              updateTodo(id:${edit},title:\"${editInput}\") {\n                id\n              }\n            }\n            `,\n          })\n     \n        dispatch({\n            type:TODO_EDIT_SUCCESS,\n            payload: data,\n        })\n    } catch (error) {\n        dispatch({\n            type:TODO_EDIT_FAIL,\n            payload: error.response.data.message,\n        })\n    }\n  }; \n  "],"mappings":"AACA,SAASA,gBAAgB,EAACC,gBAAgB,EAACC,aAAa,EAACC,cAAc,EAACC,iBAAiB,EAACC,iBAAiB,QAAQ,sBAAsB;AACzI,SAASC,YAAY,EAAEC,aAAa,EAAEC,cAAc,EAAEC,GAAG,QAAQ,gBAAgB;AAEjF,OAAO,MAAMC,UAAU,GAAE,MAAM,MAAOC,QAAQ,IAAG;EAC7C,MAAMC,MAAM,GAAG,IAAIN,YAAY,CAAC;IAC5BO,GAAG,EAAE,+BAA+B;IACpCC,KAAK,EAAE,IAAIP,aAAa;EAC1B,CAAC,CAAC;EACJ,IAAI;IACAI,QAAQ,CAAC;MACLI,IAAI,EAAEf;IACV,CAAC,CAAC;IAGF,MAAM;MAACgB;IAAI,CAAC,GAAG,MAAMJ,MAAM,CAC1BK,KAAK,CAAC;MACLA,KAAK,EAAER,GAAI;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;IACQ,CAAC,CAAC;IAEFE,QAAQ,CAAC;MACLI,IAAI,EAACd,gBAAgB;MACrBiB,OAAO,EAAEF;IACb,CAAC,CAAC;EACN,CAAC,CAAC,OAAOG,KAAK,EAAE;IACZR,QAAQ,CAAC;MACLI,IAAI,EAACb,aAAa;MAClBgB,OAAO,EAAEC,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK;IACjC,CAAC,CAAC;EACN;AACF,CAAC;AACD,OAAO,MAAMC,QAAQ,GAAE;EAAA,IAAC;IAACC,IAAI;IAACC;EAAS,CAAC;EAAA,OAAK,MAAOb,QAAQ,IAAG;IAC7D,MAAMC,MAAM,GAAG,IAAIN,YAAY,CAAC;MAC5BO,GAAG,EAAE,+BAA+B;MACpCC,KAAK,EAAE,IAAIP,aAAa;IAC1B,CAAC,CAAC;IACJ,IAAI;MACAI,QAAQ,CAAC;QACLI,IAAI,EAAEX;MACV,CAAC,CAAC;MAGF,MAAM;QAACY;MAAI,CAAC,GAAG,MAAMJ,MAAM,CAC1Ba,MAAM,CAAC;QACJC,QAAQ,EAAEjB,GAAI;AAC1B;AACA,8BAA8Bc,IAAK,WAAUC,SAAU;AACvD;AACA;AACA;AACA;MACU,CAAC,CAAC;MAEJb,QAAQ,CAAC;QACLI,IAAI,EAACV,iBAAiB;QACtBa,OAAO,EAAEF;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOG,KAAK,EAAE;MACZR,QAAQ,CAAC;QACLI,IAAI,EAACZ,cAAc;QACnBe,OAAO,EAAEC,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK;MACjC,CAAC,CAAC;IACN;EACF,CAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}