{"ast":null,"code":"import { ALL_TODO_REQUEST, ALL_TODO_SUCCESS, ALL_TODO_FAIL, TODO_EDIT_FAIL, TODO_EDIT_REQUEST, TODO_EDIT_SUCCESS } from \"../constants/AllTodo\";\nimport { ApolloClient, InMemoryCache, ApolloProvider, gql } from '@apollo/client';\nexport const getProduct = () => async dispatch => {\n  const client = new ApolloClient({\n    uri: 'http://localhost:3004/graphql',\n    cache: new InMemoryCache()\n  });\n  try {\n    dispatch({\n      type: ALL_TODO_REQUEST\n    });\n    const {\n      data\n    } = await client.query({\n      query: gql`\n          query{\n            getAllTodos{\n              title\n              id\n            }\n          }\n          `\n    });\n    dispatch({\n      type: ALL_TODO_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: ALL_TODO_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};\nexport const EditTodo = (edit, editInput) => async dispatch => {\n  console.log(edit, editInput);\n  const client = new ApolloClient({\n    uri: 'http://localhost:3004/graphql',\n    cache: new InMemoryCache()\n  });\n  try {\n    dispatch({\n      type: TODO_EDIT_REQUEST\n    });\n    const {\n      data\n    } = await client.mutate({\n      mutation: gql`\n            mutation{\n              updateTodo(id:${edit},title:\"${editInput}\") {\n                id\n              }\n            }\n            `\n    });\n    dispatch({\n      type: TODO_EDIT_SUCCESS,\n      payload: data\n    });\n  } catch (error) {\n    dispatch({\n      type: TODO_EDIT_FAIL,\n      payload: error.response.data.message\n    });\n  }\n};","map":{"version":3,"names":["ALL_TODO_REQUEST","ALL_TODO_SUCCESS","ALL_TODO_FAIL","TODO_EDIT_FAIL","TODO_EDIT_REQUEST","TODO_EDIT_SUCCESS","ApolloClient","InMemoryCache","ApolloProvider","gql","getProduct","dispatch","client","uri","cache","type","data","query","payload","error","response","message","EditTodo","edit","editInput","console","log","mutate","mutation"],"sources":["/home/radicalstart/Desktop/todo/src/actions/allProductsAction.js"],"sourcesContent":["\nimport { ALL_TODO_REQUEST,ALL_TODO_SUCCESS,ALL_TODO_FAIL,TODO_EDIT_FAIL,TODO_EDIT_REQUEST,TODO_EDIT_SUCCESS } from \"../constants/AllTodo\";\nimport { ApolloClient, InMemoryCache, ApolloProvider, gql } from '@apollo/client';\n\nexport const getProduct= () => async (dispatch)=>{\n    const client = new ApolloClient({\n        uri: 'http://localhost:3004/graphql',\n        cache: new InMemoryCache(),\n      });\n    try {\n        dispatch({\n            type: ALL_TODO_REQUEST\n        });\n  \n     \n        const {data} = await client\n        .query({\n          query: gql`\n          query{\n            getAllTodos{\n              title\n              id\n            }\n          }\n          `,\n        })\n     \n        dispatch({\n            type:ALL_TODO_SUCCESS,\n            payload: data,\n        })\n    } catch (error) {\n        dispatch({\n            type:ALL_TODO_FAIL,\n            payload: error.response.data.message,\n        })\n    }\n  }; \n  export const EditTodo= (edit,editInput) => async (dispatch)=>{\n    console.log(edit,editInput)\n    const client = new ApolloClient({\n        uri: 'http://localhost:3004/graphql',\n        cache: new InMemoryCache(),\n      });\n    try {\n        dispatch({\n            type: TODO_EDIT_REQUEST\n        });\n  \n     \n        const {data} = await client\n        .mutate({\n            mutation: gql`\n            mutation{\n              updateTodo(id:${edit},title:\"${editInput}\") {\n                id\n              }\n            }\n            `,\n          })\n     \n        dispatch({\n            type:TODO_EDIT_SUCCESS,\n            payload: data,\n        })\n    } catch (error) {\n        dispatch({\n            type:TODO_EDIT_FAIL,\n            payload: error.response.data.message,\n        })\n    }\n  }; \n  "],"mappings":"AACA,SAASA,gBAAgB,EAACC,gBAAgB,EAACC,aAAa,EAACC,cAAc,EAACC,iBAAiB,EAACC,iBAAiB,QAAQ,sBAAsB;AACzI,SAASC,YAAY,EAAEC,aAAa,EAAEC,cAAc,EAAEC,GAAG,QAAQ,gBAAgB;AAEjF,OAAO,MAAMC,UAAU,GAAE,MAAM,MAAOC,QAAQ,IAAG;EAC7C,MAAMC,MAAM,GAAG,IAAIN,YAAY,CAAC;IAC5BO,GAAG,EAAE,+BAA+B;IACpCC,KAAK,EAAE,IAAIP,aAAa;EAC1B,CAAC,CAAC;EACJ,IAAI;IACAI,QAAQ,CAAC;MACLI,IAAI,EAAEf;IACV,CAAC,CAAC;IAGF,MAAM;MAACgB;IAAI,CAAC,GAAG,MAAMJ,MAAM,CAC1BK,KAAK,CAAC;MACLA,KAAK,EAAER,GAAI;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;IACQ,CAAC,CAAC;IAEFE,QAAQ,CAAC;MACLI,IAAI,EAACd,gBAAgB;MACrBiB,OAAO,EAAEF;IACb,CAAC,CAAC;EACN,CAAC,CAAC,OAAOG,KAAK,EAAE;IACZR,QAAQ,CAAC;MACLI,IAAI,EAACb,aAAa;MAClBgB,OAAO,EAAEC,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK;IACjC,CAAC,CAAC;EACN;AACF,CAAC;AACD,OAAO,MAAMC,QAAQ,GAAE,CAACC,IAAI,EAACC,SAAS,KAAK,MAAOb,QAAQ,IAAG;EAC3Dc,OAAO,CAACC,GAAG,CAACH,IAAI,EAACC,SAAS,CAAC;EAC3B,MAAMZ,MAAM,GAAG,IAAIN,YAAY,CAAC;IAC5BO,GAAG,EAAE,+BAA+B;IACpCC,KAAK,EAAE,IAAIP,aAAa;EAC1B,CAAC,CAAC;EACJ,IAAI;IACAI,QAAQ,CAAC;MACLI,IAAI,EAAEX;IACV,CAAC,CAAC;IAGF,MAAM;MAACY;IAAI,CAAC,GAAG,MAAMJ,MAAM,CAC1Be,MAAM,CAAC;MACJC,QAAQ,EAAEnB,GAAI;AAC1B;AACA,8BAA8Bc,IAAK,WAAUC,SAAU;AACvD;AACA;AACA;AACA;IACU,CAAC,CAAC;IAEJb,QAAQ,CAAC;MACLI,IAAI,EAACV,iBAAiB;MACtBa,OAAO,EAAEF;IACb,CAAC,CAAC;EACN,CAAC,CAAC,OAAOG,KAAK,EAAE;IACZR,QAAQ,CAAC;MACLI,IAAI,EAACZ,cAAc;MACnBe,OAAO,EAAEC,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACK;IACjC,CAAC,CAAC;EACN;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}